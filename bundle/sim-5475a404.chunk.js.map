{"version":3,"file":"sim-5475a404.chunk.js","sources":["../../../ui/mage/presets.ts","../../../ui/mage/inputs.ts","../../../ui/mage/sim.ts"],"sourcesContent":["import { Conjured } from '../core/proto/common.js';\r\nimport { Consumes } from '../core/proto/common.js';\r\nimport { EquipmentSpec } from '../core/proto/common.js';\r\nimport { Flask } from '../core/proto/common.js';\r\nimport { Food } from '../core/proto/common.js';\r\nimport { Glyphs } from '../core/proto/common.js';\r\nimport { Potions } from '../core/proto/common.js';\r\nimport { Spec } from '../core/proto/common.js';\r\nimport { Faction } from '../core/proto/common.js';\r\nimport { UnitReference } from '../core/proto/common.js';\r\nimport { SavedRotation, SavedTalents } from '../core/proto/ui.js';\r\nimport { Player } from '../core/player.js';\r\n\r\nimport {\r\n\tMage_Rotation as MageRotation,\r\n\tMage_Rotation_Type as RotationType,\r\n\tMage_Rotation_PrimaryFireSpell as PrimaryFireSpell,\r\n\tMage_Options as MageOptions,\r\n\tMage_Options_ArmorType as ArmorType,\r\n\tMageMajorGlyph,\r\n\tMageMinorGlyph,\r\n} from '../core/proto/mage.js';\r\n\r\nimport * as Tooltips from '../core/constants/tooltips.js';\r\nimport { APLRotation } from '../core/proto/apl.js';\r\n\r\n// Preset options for this spec.\r\n// Eventually we will import these values for the raid sim too, so its good to\r\n// keep them in a separate file.\r\n\r\n// Default talents. Uses the wowhead calculator format, make the talents on\r\n// https://wowhead.com/wotlk/talent-calc and copy the numbers in the url.\r\nexport const ArcaneTalents = {\r\n\tname: 'Arcane',\r\n\tdata: SavedTalents.create({\r\n\t\ttalentsString: '23000513310033015032310250532-03-023303001',\r\n\t\tglyphs: Glyphs.create({\r\n\t\t\tmajor1: MageMajorGlyph.GlyphOfArcaneBlast,\r\n\t\t\tmajor2: MageMajorGlyph.GlyphOfArcaneMissiles,\r\n\t\t\tmajor3: MageMajorGlyph.GlyphOfMoltenArmor,\r\n\t\t\tminor1: MageMinorGlyph.GlyphOfSlowFall,\r\n\t\t\tminor2: MageMinorGlyph.GlyphOfFrostWard,\r\n\t\t\tminor3: MageMinorGlyph.GlyphOfBlastWave,\r\n\t\t}),\r\n\t}),\r\n};\r\nexport const FireTalents = {\r\n\tname: 'Fire',\r\n\tdata: SavedTalents.create({\r\n\t\ttalentsString: '23000503110003-0055030012303331053120301351',\r\n\t\tglyphs: Glyphs.create({\r\n\t\t\tmajor1: MageMajorGlyph.GlyphOfFireball,\r\n\t\t\tmajor2: MageMajorGlyph.GlyphOfMoltenArmor,\r\n\t\t\tmajor3: MageMajorGlyph.GlyphOfLivingBomb,\r\n\t\t\tminor1: MageMinorGlyph.GlyphOfSlowFall,\r\n\t\t\tminor2: MageMinorGlyph.GlyphOfFrostWard,\r\n\t\t\tminor3: MageMinorGlyph.GlyphOfBlastWave,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport const Phase3FireTalents = {\r\n\tname: 'Fire Phase 3',\r\n\tdata: SavedTalents.create({\r\n\t\ttalentsString: '23002303310003-0055030012303330053120300351',\r\n\t\tglyphs: Glyphs.create({\r\n\t\t\tmajor1: MageMajorGlyph.GlyphOfFireball,\r\n\t\t\tmajor2: MageMajorGlyph.GlyphOfMoltenArmor,\r\n\t\t\tmajor3: MageMajorGlyph.GlyphOfLivingBomb,\r\n\t\t\tminor1: MageMinorGlyph.GlyphOfArcaneIntellect,\r\n\t\t\tminor2: MageMinorGlyph.GlyphOfSlowFall,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport const FrostfireTalents = {\r\n\tname: 'Frostfire',\r\n\tdata: SavedTalents.create({\r\n\t\ttalentsString: '-2305032012303331053120311351-023303031',\r\n\t\tglyphs: Glyphs.create({\r\n\t\t\tmajor1: MageMajorGlyph.GlyphOfFrostfire,\r\n\t\t\tmajor2: MageMajorGlyph.GlyphOfMoltenArmor,\r\n\t\t\tmajor3: MageMajorGlyph.GlyphOfLivingBomb,\r\n\t\t\tminor1: MageMinorGlyph.GlyphOfSlowFall,\r\n\t\t\tminor2: MageMinorGlyph.GlyphOfFrostWard,\r\n\t\t\tminor3: MageMinorGlyph.GlyphOfBlastWave,\r\n\t\t}),\r\n\t}),\r\n}\r\nexport const FrostTalents = {\r\n\tname: 'Frost',\r\n\tdata: SavedTalents.create({\r\n\t\ttalentsString: '23000503110003--0533030310233100030152231351',\r\n\t\tglyphs: Glyphs.create({\r\n\t\t\tmajor1: MageMajorGlyph.GlyphOfFrostbolt,\r\n\t\t\tmajor2: MageMajorGlyph.GlyphOfEternalWater,\r\n\t\t\tmajor3: MageMajorGlyph.GlyphOfMoltenArmor,\r\n\t\t\tminor1: MageMinorGlyph.GlyphOfSlowFall,\r\n\t\t\tminor2: MageMinorGlyph.GlyphOfFrostWard,\r\n\t\t\tminor3: MageMinorGlyph.GlyphOfBlastWave,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport const DefaultFireRotation = MageRotation.create({\r\n\ttype: RotationType.Fire,\r\n\tprimaryFireSpell: PrimaryFireSpell.Fireball,\r\n\tmaintainImprovedScorch: false,\r\n\tpyroblastDelayMs: 50,\r\n});\r\n\r\nexport const DefaultFFBRotation = MageRotation.create({\r\n\ttype: RotationType.Fire,\r\n\tprimaryFireSpell: PrimaryFireSpell.FrostfireBolt,\r\n\tmaintainImprovedScorch: false,\r\n\tpyroblastDelayMs: 50,\r\n});\r\n\r\nexport const DefaultFFBOptions = MageOptions.create({\r\n\tarmor: ArmorType.MoltenArmor,\r\n\treactionTimeMs: 300,\r\n\tigniteMunching: true,\r\n});\r\n\r\nexport const DefaultFireOptions = MageOptions.create({\r\n\tarmor: ArmorType.MoltenArmor,\r\n\tfocusMagicPercentUptime: 99,\r\n\tfocusMagicTarget: UnitReference.create(),\r\n\treactionTimeMs: 300,\r\n\tigniteMunching: true,\r\n});\r\n\r\nexport const DefaultFireConsumes = Consumes.create({\r\n\tflask: Flask.FlaskOfTheFrostWyrm,\r\n\tfood: Food.FoodFirecrackerSalmon,\r\n\tdefaultPotion: Potions.PotionOfSpeed,\r\n\tdefaultConjured: Conjured.ConjuredFlameCap,\r\n});\r\n\r\nexport const DefaultFrostRotation = MageRotation.create({\r\n\ttype: RotationType.Frost,\r\n\twaterElementalDisobeyChance: 0.1,\r\n});\r\n\r\nexport const DefaultFrostOptions = MageOptions.create({\r\n\tarmor: ArmorType.MoltenArmor,\r\n\tfocusMagicTarget: UnitReference.create(),\r\n\treactionTimeMs: 300,\r\n});\r\n\r\nexport const DefaultFrostConsumes = Consumes.create({\r\n\tdefaultPotion: Potions.PotionOfSpeed,\r\n\tdefaultConjured: Conjured.ConjuredFlameCap,\r\n\tflask: Flask.FlaskOfTheFrostWyrm,\r\n\tfood: Food.FoodFishFeast,\r\n});\r\n\r\nexport const DefaultArcaneRotation = MageRotation.create({\r\n\ttype: RotationType.Arcane,\r\n\tonly3ArcaneBlastStacksBelowManaPercent: 0.15,\r\n\tblastWithoutMissileBarrageAboveManaPercent: 0.2,\r\n\textraBlastsDuringFirstAp: 0,\r\n\tmissileBarrageBelowArcaneBlastStacks: 0,\r\n\tmissileBarrageBelowManaPercent: 0,\r\n});\r\n\r\nexport const DefaultArcaneOptions = MageOptions.create({\r\n\tarmor: ArmorType.MoltenArmor,\r\n\tfocusMagicPercentUptime: 99,\r\n\tfocusMagicTarget: UnitReference.create(),\r\n\treactionTimeMs: 300,\r\n});\r\n\r\nexport const DefaultArcaneConsumes = Consumes.create({\r\n\tdefaultPotion: Potions.PotionOfSpeed,\r\n\tdefaultConjured: Conjured.ConjuredDarkRune,\r\n\tflask: Flask.FlaskOfTheFrostWyrm,\r\n\tfood: Food.FoodFirecrackerSalmon,\r\n});\r\n\r\nexport const OtherDefaults = {\r\n\tdistanceFromTarget: 25,\r\n};\r\n\r\nexport const ARCANE_ROTATION_PRESET_DEFAULT = {\r\n\tname: 'Arcane APL',\r\n\trotation: SavedRotation.create({\r\n\t\tspecRotationOptionsJson: MageRotation.toJsonString(DefaultArcaneRotation),\r\n\t\trotation: APLRotation.fromJsonString(`{\r\n\t\t\t\"type\": \"TypeAPL\",\r\n\t\t\t\"prepullActions\": [\r\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"otherId\":\"OtherActionPotion\"}}},\"doAtValue\":{\"const\":{\"val\":\"-1s\"}}}\r\n\t\t\t],\r\n\t\t\t\"priorityList\": [\r\n\t\t\t  {\"action\":{\"autocastOtherCooldowns\":{}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":12472}}}}},\"castSpell\":{\"spellId\":{\"spellId\":26297}}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":12472}}}}},\"castSpell\":{\"spellId\":{\"spellId\":54758}}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":12472}}}}},\"castSpell\":{\"spellId\":{\"itemId\":40211}}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLt\",\"lhs\":{\"auraNumStacks\":{\"auraId\":{\"spellId\":36032}}},\"rhs\":{\"const\":{\"val\":\"4\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":42897}}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"auraIsActive\":{\"auraId\":{\"spellId\":44401}}},\"castSpell\":{\"spellId\":{\"spellId\":42846}}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLe\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"25%\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":12051,\"tag\":1}}}},\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"25%\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":42897}}}},\r\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":42846}}}}\r\n\t\t\t]\r\n\t\t}`)\r\n\t}),\r\n}\r\n\r\nexport const FIRE_ROTATION_PRESET_DEFAULT = {\r\n\tname: 'Fire APL',\r\n\trotation: SavedRotation.create({\r\n\t\tspecRotationOptionsJson: MageRotation.toJsonString(DefaultFireRotation),\r\n\t\trotation: APLRotation.fromJsonString(`{\r\n\t\t\t\"type\": \"TypeAPL\",\r\n\t\t\t\"prepullActions\": [\r\n\t\t\t\t{\"action\":{\"castSpell\":{\"spellId\":{\"otherId\":\"OtherActionPotion\"}}},\"doAtValue\":{\"const\":{\"val\":\"-1s\"}}}\r\n\t\t\t],\r\n\t\t\t\"priorityList\": [\r\n\t\t\t\t{\"action\":{\"autocastOtherCooldowns\":{}}},\r\n\t\t\t\t{\"action\":{\"condition\":{\"auraShouldRefresh\":{\"auraId\":{\"spellId\":12873},\"maxOverlap\":{\"const\":{\"val\":\"4s\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":42859}}}},\r\n\t\t\t\t{\"action\":{\"condition\":{\"auraIsActive\":{\"auraId\":{\"spellId\":44448}}},\"castSpell\":{\"spellId\":{\"spellId\":42891}}}},\r\n\t\t\t\t{\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"dotIsActive\":{\"spellId\":{\"spellId\":55360}}}}},{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"const\":{\"val\":\"12s\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":55360}}}},\r\n\t\t\t\t{\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLe\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"spellCastTime\":{\"spellId\":{\"spellId\":42859}}}}},\"castSpell\":{\"spellId\":{\"spellId\":42873}}}},\r\n\t\t\t\t{\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLe\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"const\":{\"val\":\"4s\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":42859}}}},\r\n\t\t\t\t{\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":42833}}}}\r\n\t\t\t]\r\n\t\t}`),\r\n\t}),\r\n}\r\n\r\nexport const FROSTFIRE_ROTATION_PRESET_DEFAULT = {\r\n\tname: 'Frostfire APL',\r\n\trotation: SavedRotation.create({\r\n\t\tspecRotationOptionsJson: MageRotation.toJsonString(DefaultFFBRotation),\r\n\t\trotation: APLRotation.fromJsonString(`{\r\n\t\t\t\"type\": \"TypeAPL\",\r\n\t\t\t\"prepullActions\": [\r\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"otherId\":\"OtherActionPotion\"}}},\"doAtValue\":{\"const\":{\"val\":\"-1s\"}}}\r\n\t\t\t],\r\n\t\t\t\"priorityList\": [\r\n\t\t\t  {\"action\":{\"autocastOtherCooldowns\":{}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"auraShouldRefresh\":{\"auraId\":{\"spellId\":12873},\"maxOverlap\":{\"const\":{\"val\":\"4s\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":42859}}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"auraIsActive\":{\"auraId\":{\"spellId\":44448}}},\"castSpell\":{\"spellId\":{\"spellId\":42891}}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"and\":{\"vals\":[{\"not\":{\"val\":{\"dotIsActive\":{\"spellId\":{\"spellId\":55360}}}}},{\"cmp\":{\"op\":\"OpGt\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"const\":{\"val\":\"12s\"}}}}]}},\"castSpell\":{\"spellId\":{\"spellId\":55360}}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLe\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"spellCastTime\":{\"spellId\":{\"spellId\":42859}}}}},\"castSpell\":{\"spellId\":{\"spellId\":42873}}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLe\",\"lhs\":{\"remainingTime\":{}},\"rhs\":{\"const\":{\"val\":\"3.5s\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":42859}}}},\r\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":47610}}}}\r\n\t\t\t]\r\n\t\t}`),\r\n\t}),\r\n}\r\n\r\nexport const FROST_ROTATION_PRESET_DEFAULT = {\r\n\tname: 'Frost APL',\r\n\trotation: SavedRotation.create({\r\n\t\tspecRotationOptionsJson: MageRotation.toJsonString(DefaultFrostRotation),\r\n\t\trotation: APLRotation.fromJsonString(`{\r\n\t\t\t\"type\": \"TypeAPL\",\r\n\t\t\t\"prepullActions\": [\r\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"otherId\":\"OtherActionPotion\"}}},\"doAtValue\":{\"const\":{\"val\":\"-1s\"}}}\r\n\t\t\t],\r\n\t\t\t\"priorityList\": [\r\n\t\t\t  {\"action\":{\"autocastOtherCooldowns\":{}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":12472}}}}},\"castSpell\":{\"spellId\":{\"spellId\":26297}}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"not\":{\"val\":{\"auraIsActive\":{\"auraId\":{\"spellId\":12472}}}}},\"castSpell\":{\"spellId\":{\"spellId\":54758}}}},\r\n              {\"action\":{\"condition\":{\"cmp\":{\"op\":\"OpLe\",\"lhs\":{\"currentManaPercent\":{}},\"rhs\":{\"const\":{\"val\":\"25%\"}}}},\"castSpell\":{\"spellId\":{\"spellId\":12051,\"tag\":1}}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"auraIsActive\":{\"auraId\":{\"spellId\":44545}}},\"castSpell\":{\"spellId\":{\"spellId\":44572}}}},\r\n\t\t\t  {\"action\":{\"condition\":{\"auraIsActive\":{\"auraId\":{\"spellId\":44549}}},\"castSpell\":{\"spellId\":{\"spellId\":47610}}}},\r\n\t\t\t  {\"action\":{\"castSpell\":{\"spellId\":{\"spellId\":42842}}}}\r\n\t\t\t]\r\n\t\t}`),\r\n\t}),\r\n}\r\n\r\nexport const ARCANE_PRERAID_PRESET = {\r\n\tname: \"Arcane Preraid Preset\",\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 0,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n\t\t{\"id\":42553,\"enchant\":3820,\"gems\":[41285,40049]},\r\n\t\t{\"id\":39472},\r\n\t\t{\"id\":37673,\"enchant\":3810,\"gems\":[39998]},\r\n\t\t{\"id\":41610,\"enchant\":3722},\r\n\t\t{\"id\":39492,\"enchant\":3832,\"gems\":[39998,40049]},\r\n\t\t{\"id\":37361,\"enchant\":2332,\"gems\":[0]},\r\n\t\t{\"id\":39495,\"enchant\":3604,\"gems\":[39998,0]},\r\n\t\t{\"id\":40696,\"gems\":[40049,40026]},\r\n\t\t{\"id\":37854,\"enchant\":3719},\r\n\t\t{\"id\":44202,\"enchant\":3606,\"gems\":[40026]},\r\n\t\t{\"id\":40585},\r\n\t\t{\"id\":37694},\r\n\t\t{\"id\":37873},\r\n\t\t{\"id\":40682},\r\n\t\t{\"id\":37360,\"enchant\":3854},\r\n\t\t{},\r\n\t\t{\"id\":37238}\r\n\t]}`),\r\n};\r\n\r\nexport const FIRE_PRERAID_PRESET = {\r\n\tname: \"Fire Preraid Preset\",\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 1,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n\t\t{\"id\":42553,\"enchant\":3820,\"gems\":[41285,40014]},\r\n\t\t{\"id\":39472},\r\n\t\t{\"id\":34210,\"enchant\":3810,\"gems\":[40049,40014]},\r\n\t\t{\"id\":41610,\"enchant\":3859},\r\n\t\t{\"id\":39492,\"enchant\":3832,\"gems\":[40049,40014]},\r\n\t\t{\"id\":37361,\"enchant\":2332,\"gems\":[0]},\r\n\t\t{\"id\":39495,\"enchant\":3604,\"gems\":[40049,0]},\r\n\t\t{\"id\":40696,\"gems\":[40014,40026]},\r\n\t\t{\"id\":37854,\"enchant\":3719},\r\n\t\t{\"id\":44202,\"enchant\":3826,\"gems\":[40026]},\r\n\t\t{\"id\":40585},\r\n\t\t{\"id\":42644,\"gems\":[40049]},\r\n\t\t{\"id\":37873},\r\n\t\t{\"id\":40682},\r\n\t\t{\"id\":45085,\"enchant\":3834},\r\n\t\t{\"id\":40698},\r\n\t\t{\"id\":37177}\r\n\t]}`),\r\n};\r\n\r\nexport const ARCANE_P1_PRESET = {\r\n\tname: 'Arcane P1 Preset',\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 0,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n\t\t{\"id\":40416,\"enchant\":3820,\"gems\":[41285,39998]},\r\n\t\t{\"id\":44661,\"gems\":[40026]},\r\n\t\t{\"id\":40419,\"enchant\":3810,\"gems\":[40051]},\r\n\t\t{\"id\":44005,\"enchant\":3722,\"gems\":[40026]},\r\n\t\t{\"id\":44002,\"enchant\":3832,\"gems\":[39998,39998]},\r\n\t\t{\"id\":44008,\"enchant\":2332,\"gems\":[39998,0]},\r\n\t\t{\"id\":40415,\"enchant\":3604,\"gems\":[39998,0]},\r\n\t\t{\"id\":40561,\"gems\":[39998]},\r\n\t\t{\"id\":40417,\"enchant\":3719,\"gems\":[39998,40051]},\r\n\t\t{\"id\":40558,\"enchant\":3606},\r\n\t\t{\"id\":40719},\r\n\t\t{\"id\":40399},\r\n\t\t{\"id\":39229},\r\n\t\t{\"id\":40255},\r\n\t\t{\"id\":40396,\"enchant\":3834},\r\n\t\t{\"id\":40273},\r\n\t\t{\"id\":39426}\r\n\t]}`),\r\n};\r\n\r\nexport const FIRE_P1_PRESET = {\r\n\tname: 'Fire P1 Preset',\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 1,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n\t\t{\"id\":40416,\"enchant\":3820,\"gems\":[41285,39998]},\r\n\t\t{\"id\":44661,\"gems\":[40026]},\r\n\t\t{\"id\":40419,\"enchant\":3810,\"gems\":[40049]},\r\n\t\t{\"id\":44005,\"enchant\":3722,\"gems\":[40026]},\r\n\t\t{\"id\":40418,\"enchant\":3832,\"gems\":[39998,40048]},\r\n\t\t{\"id\":44008,\"enchant\":2332,\"gems\":[39998,0]},\r\n\t\t{\"id\":40415,\"enchant\":3604,\"gems\":[39998,0]},\r\n\t\t{\"id\":40301,\"gems\":[39998]},\r\n\t\t{\"id\":40560,\"enchant\":3719},\r\n\t\t{\"id\":40246,\"enchant\":3606},\r\n\t\t{\"id\":40399},\r\n\t\t{\"id\":40719},\r\n\t\t{\"id\":40255},\r\n\t\t{\"id\":40432},\r\n\t\t{\"id\":40396,\"enchant\":3834},\r\n\t\t{\"id\":40273},\r\n\t\t{\"id\":39712}\r\n\t]}`),\r\n};\r\n\r\nexport const FROST_P1_PRESET = {\r\n\tname: 'Frost P1 Preset',\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 2,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n\t\t{\"id\":40416,\"enchant\":3820,\"gems\":[41285,39998]},\r\n\t\t{\"id\":44661,\"gems\":[40026]},\r\n\t\t{\"id\":40419,\"enchant\":3810,\"gems\":[40051]},\r\n\t\t{\"id\":44005,\"enchant\":3722,\"gems\":[40026]},\r\n\t\t{\"id\":40418,\"enchant\":3832,\"gems\":[39998,40048]},\r\n\t\t{\"id\":44008,\"enchant\":2332,\"gems\":[39998,0]},\r\n\t\t{\"id\":40415,\"enchant\":3604,\"gems\":[39998,0]},\r\n\t\t{\"id\":40301,\"gems\":[39998]},\r\n\t\t{\"id\":40560,\"enchant\":3719},\r\n\t\t{\"id\":40558,\"enchant\":3606},\r\n\t\t{\"id\":40399},\r\n\t\t{\"id\":40719},\r\n\t\t{\"id\":40255},\r\n\t\t{\"id\":40432},\r\n\t\t{\"id\":40396,\"enchant\":3834},\r\n\t\t{\"id\":39766},\r\n\t\t{\"id\":39712}\r\n\t]}`),\r\n};\r\n\r\nexport const ARCANE_P2_PRESET = {\r\n\tname: 'Arcane P2 Preset',\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 0,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n\t\t{\"id\":45497,\"enchant\":3820,\"gems\":[41285,45883]},\r\n\t\t{\"id\":45243,\"gems\":[39998]},\r\n\t\t{\"id\":46134,\"enchant\":3810,\"gems\":[39998]},\r\n\t\t{\"id\":45618,\"enchant\":3722,\"gems\":[40026]},\r\n\t\t{\"id\":46130,\"enchant\":3832,\"gems\":[39998,39998]},\r\n\t\t{\"id\":45446,\"enchant\":2332,\"gems\":[39998,0]},\r\n\t\t{\"id\":45665,\"enchant\":3604,\"gems\":[39998,39998,0]},\r\n\t\t{\"id\":45619,\"gems\":[39998,39998,39998]},\r\n\t\t{\"id\":45488,\"enchant\":3719,\"gems\":[39998,40051,40026]},\r\n\t\t{\"id\":45135,\"enchant\":3606,\"gems\":[39998,39998]},\r\n\t\t{\"id\":46046,\"gems\":[39998]},\r\n\t\t{\"id\":45495,\"gems\":[39998]},\r\n\t\t{\"id\":45466},\r\n\t\t{\"id\":45518},\r\n\t\t{\"id\":45620,\"enchant\":3834,\"gems\":[39998]},\r\n\t\t{\"id\":45617},\r\n\t\t{\"id\":45294,\"gems\":[39998]}\r\n\t]}`),\r\n};\r\n\r\nexport const FIRE_P2_PRESET = {\r\n\tname: 'Fire P2 Preset',\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 1,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n\t\t{\"id\":46129,\"enchant\":3820,\"gems\":[41285,45883]},\r\n\t\t{\"id\":45133,\"gems\":[40048]},\r\n\t\t{\"id\":46134,\"enchant\":3810,\"gems\":[39998]},\r\n\t\t{\"id\":45242,\"enchant\":3722,\"gems\":[39998]},\r\n\t\t{\"id\":46130,\"enchant\":3832,\"gems\":[39998,39998]},\r\n\t\t{\"id\":45446,\"enchant\":2332,\"gems\":[39998,0]},\r\n\t\t{\"id\":45665,\"enchant\":3604,\"gems\":[40026,40048,0]},\r\n\t\t{\"id\":45619,\"gems\":[40048,40048,39998]},\r\n\t\t{\"id\":46133,\"enchant\":3719,\"gems\":[39998,39998]},\r\n\t\t{\"id\":45537,\"enchant\":3606,\"gems\":[39998,40026]},\r\n\t\t{\"id\":45495,\"gems\":[39998]},\r\n\t\t{\"id\":46046,\"gems\":[39998]},\r\n\t\t{\"id\":45466},\r\n\t\t{\"id\":45518},\r\n\t\t{\"id\":45620,\"enchant\":3834,\"gems\":[39998]},\r\n\t\t{\"id\":45617},\r\n\t\t{\"id\":45294,\"gems\":[39998]}\r\n\t]}`),\r\n};\r\n\r\nexport const FROST_P2_PRESET = {\r\n\tname: 'Frost P2 Preset',\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 2,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n\t\t{\"id\":45497,\"enchant\":3820,\"gems\":[41285,45883]},\r\n\t\t{\"id\":45133,\"gems\":[40051]},\r\n\t\t{\"id\":46134,\"enchant\":3810,\"gems\":[39998]},\r\n\t\t{\"id\":45618,\"enchant\":3722,\"gems\":[40026]},\r\n\t\t{\"id\":46130,\"enchant\":3832,\"gems\":[39998,39998]},\r\n\t\t{\"id\":45446,\"enchant\":2332,\"gems\":[39998,0]},\r\n\t\t{\"id\":45665,\"enchant\":3604,\"gems\":[39998,39998,0]},\r\n\t\t{\"id\":45619,\"gems\":[40049,40049,39998]},\r\n\t\t{\"id\":45488,\"enchant\":3719,\"gems\":[39998,40051,40026]},\r\n\t\t{\"id\":45135,\"enchant\":3606,\"gems\":[39998,40049]},\r\n\t\t{\"id\":46046,\"gems\":[39998]},\r\n\t\t{\"id\":45495,\"gems\":[39998]},\r\n\t\t{\"id\":45466},\r\n\t\t{\"id\":45518},\r\n\t\t{\"id\":45620,\"enchant\":3834,\"gems\":[40026]},\r\n\t\t{\"id\":45617},\r\n\t\t{\"id\":45294,\"gems\":[39998]}\r\n\t]}`),\r\n};\r\n\r\nexport const FFB_P2_PRESET = {\r\n\tname: 'FFB P2 Preset',\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 1 && player.getTalents().icyVeins,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n\t\t{\"id\":45497,\"enchant\":3820,\"gems\":[41285,45883]},\r\n\t\t{\"id\":45133,\"gems\":[40048]},\r\n\t\t{\"id\":46134,\"enchant\":3810,\"gems\":[39998]},\r\n\t\t{\"id\":45618,\"enchant\":3722,\"gems\":[39998]},\r\n\t\t{\"id\":46130,\"enchant\":3832,\"gems\":[39998,39998]},\r\n\t\t{\"id\":45446,\"enchant\":2332,\"gems\":[39998,0]},\r\n\t\t{\"id\":45665,\"enchant\":3604,\"gems\":[39998,39998,0]},\r\n\t\t{\"id\":45619,\"gems\":[40048,40048,39998]},\r\n\t\t{\"id\":45488,\"enchant\":3719,\"gems\":[39998,40048,40026]},\r\n\t\t{\"id\":45537,\"enchant\":3606,\"gems\":[39998,40026]},\r\n\t\t{\"id\":45495,\"gems\":[39998]},\r\n\t\t{\"id\":46046,\"gems\":[39998]},\r\n\t\t{\"id\":45466},\r\n\t\t{\"id\":45518},\r\n\t\t{\"id\":45620,\"enchant\":3834,\"gems\":[39998]},\r\n\t\t{\"id\":45617},\r\n\t\t{\"id\":45294,\"gems\":[39998]}\r\n\t  ]}`),\r\n};\r\n\r\nexport const ARCANE_P3_PRESET_HORDE = {\r\n\tname: 'Arcane P3 Preset [H]',\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 0 && player.getFaction() == Faction.Horde,\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n        {\"id\":47764,\"enchant\":3820,\"gems\":[41285,40133]},\r\n        {\"id\":47468,\"gems\":[40155]},\r\n        {\"id\":47767,\"enchant\":3810,\"gems\":[40133]},\r\n        {\"id\":47551,\"enchant\":3722,\"gems\":[40113]},\r\n        {\"id\":47425,\"enchant\":3832,\"gems\":[40133,40113,40155]},\r\n        {\"id\":47485,\"enchant\":2332,\"gems\":[40133,0]},\r\n        {\"id\":47763,\"enchant\":3604,\"gems\":[40113,0]},\r\n        {\"id\":47419,\"gems\":[40133,40113,40113]},\r\n        {\"id\":47765,\"enchant\":3719,\"gems\":[40155,40155]},\r\n        {\"id\":47454,\"enchant\":3606,\"gems\":[40133,40113]},\r\n        {\"id\":45495,\"gems\":[40133]},\r\n        {\"id\":47489,\"gems\":[40155]},\r\n        {\"id\":47477},\r\n        {\"id\":45518},\r\n        {\"id\":47422,\"enchant\":3834,\"gems\":[40133]},\r\n        {\"id\":48032,\"gems\":[40155]},\r\n        {\"id\":45294,\"gems\":[40113]}\r\n    ]}`),\r\n};\r\n\r\nexport const ARCANE_P3_PRESET_ALLIANCE = {\r\n\tname: 'Arcane P3 Preset [A]',\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 0 && player.getFaction() == Faction.Alliance,\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n        {\"id\":47761,\"enchant\":3820,\"gems\":[41285,40133]},\r\n        {\"id\":47144,\"gems\":[40155]},\r\n        {\"id\":47758,\"enchant\":3810,\"gems\":[40133]},\r\n        {\"id\":47552,\"enchant\":3722,\"gems\":[40113]},\r\n        {\"id\":46993,\"enchant\":3832,\"gems\":[40133,40113,40155]},\r\n        {\"id\":47208,\"enchant\":2332,\"gems\":[40133,0]},\r\n        {\"id\":47762,\"enchant\":3604,\"gems\":[40113,0]},\r\n        {\"id\":46973,\"gems\":[40133,40113,40113]},\r\n        {\"id\":47760,\"enchant\":3719,\"gems\":[40155,40155]},\r\n        {\"id\":47097,\"enchant\":3606,\"gems\":[40133,40113]},\r\n        {\"id\":45495,\"gems\":[40133]},\r\n        {\"id\":47489,\"gems\":[40155]},\r\n        {\"id\":47188},\r\n        {\"id\":45518},\r\n        {\"id\":46980,\"enchant\":3834,\"gems\":[40133]},\r\n        {\"id\":47958,\"gems\":[40155]},\r\n        {\"id\":47922}\r\n    ]}`),\r\n};\r\n\r\nexport const FROST_P3_PRESET_HORDE = {\r\n\tname: 'Frost P3 Preset [H]',\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 2 && player.getFaction() == Faction.Horde,\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n        {\"id\":47764,\"enchant\":3820,\"gems\":[41285,40133]},\r\n        {\"id\":47468,\"gems\":[40155]},\r\n        {\"id\":47767,\"enchant\":3810,\"gems\":[40133]},\r\n        {\"id\":47551,\"enchant\":3722,\"gems\":[40113]},\r\n        {\"id\":47462,\"enchant\":3832,\"gems\":[40133,40155,40155]},\r\n        {\"id\":47485,\"enchant\":2332,\"gems\":[40155,0]},\r\n        {\"id\":47763,\"enchant\":3604,\"gems\":[40113,0]},\r\n        {\"id\":47419,\"gems\":[40133,40113,40113]},\r\n        {\"id\":47765,\"enchant\":3719,\"gems\":[40155,40155]},\r\n        {\"id\":47454,\"enchant\":3606,\"gems\":[40133,40113]},\r\n        {\"id\":45495,\"gems\":[40133]},\r\n        {\"id\":46046,\"gems\":[40113]},\r\n        {\"id\":47477},\r\n        {\"id\":45518},\r\n        {\"id\":47422,\"enchant\":3834,\"gems\":[40155]},\r\n        {\"id\":48032,\"gems\":[40155]},\r\n        {\"id\":45294,\"gems\":[40113]}\r\n    ]}`),\r\n};\r\n\r\nexport const FROST_P3_PRESET_ALLIANCE = {\r\n\tname: 'Frost P3 Preset [A]',\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 2 && player.getFaction() == Faction.Alliance,\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n        {\"id\":47761,\"enchant\":3820,\"gems\":[41285,40133]},\r\n        {\"id\":47144,\"gems\":[40155]},\r\n        {\"id\":47758,\"enchant\":3810,\"gems\":[40133]},\r\n        {\"id\":47552,\"enchant\":3722,\"gems\":[40113]},\r\n        {\"id\":47129,\"enchant\":3832,\"gems\":[40133,40153,40155]},\r\n        {\"id\":47208,\"enchant\":2332,\"gems\":[40155,0]},\r\n        {\"id\":47762,\"enchant\":3604,\"gems\":[40113,0]},\r\n        {\"id\":46973,\"gems\":[40133,40113,40113]},\r\n        {\"id\":47760,\"enchant\":3719,\"gems\":[40155,40155]},\r\n        {\"id\":47097,\"enchant\":3606,\"gems\":[40133,40113]},\r\n        {\"id\":45495,\"gems\":[40133]},\r\n        {\"id\":46046,\"gems\":[40155]},\r\n        {\"id\":47188},\r\n        {\"id\":45518},\r\n        {\"id\":47517,\"enchant\":3834,\"gems\":[40155]},\r\n        {\"id\":47958,\"gems\":[40155]},\r\n        {\"id\":45294,\"gems\":[40113]}\r\n    ]}`),\r\n};\r\n\r\nexport const FIRE_P3_PRESET_HORDE = {\r\n\tname: 'Fire P3 Preset [H]',\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 1 && !player.getTalents().icyVeins && player.getFaction() == Faction.Horde,\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n        {\"id\":47764,\"enchant\":3820,\"gems\":[41285,40133]},\r\n        {\"id\":47468,\"gems\":[40155]},\r\n        {\"id\":47767,\"enchant\":3810,\"gems\":[40133]},\r\n        {\"id\":47551,\"enchant\":3722,\"gems\":[40113]},\r\n        {\"id\":47462,\"enchant\":3832,\"gems\":[40133,40155,40113]},\r\n        {\"id\":47467,\"enchant\":2332,\"gems\":[40155,0]},\r\n        {\"id\":47763,\"enchant\":3604,\"gems\":[40113,0]},\r\n        {\"id\":47447,\"gems\":[40133,40113,40113]},\r\n        {\"id\":47765,\"enchant\":3719,\"gems\":[40155,40155]},\r\n        {\"id\":47454,\"enchant\":3606,\"gems\":[40133,40113]},\r\n        {\"id\":45495,\"gems\":[40133]},\r\n        {\"id\":47489,\"gems\":[40155]},\r\n        {\"id\":47477},\r\n        {\"id\":45518},\r\n        {\"id\":47518,\"enchant\":3834,\"gems\":[40155]},\r\n        {\"id\":47437},\r\n        {\"id\":45294,\"gems\":[40113]}\r\n    ]}`),\r\n};\r\n\r\nexport const FIRE_P3_PRESET_ALLIANCE = {\r\n\tname: 'Fire P3 Preset [A]',\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalentTree() == 1 && !player.getTalents().icyVeins && player.getFaction() == Faction.Alliance,\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tgear: EquipmentSpec.fromJsonString(`{  \"items\": [\r\n        {\"id\":47761,\"enchant\":3820,\"gems\":[41285,40133]},\r\n        {\"id\":47144,\"gems\":[40155]},\r\n        {\"id\":47758,\"enchant\":3810,\"gems\":[40133]},\r\n        {\"id\":47552,\"enchant\":3722,\"gems\":[40113]},\r\n        {\"id\":47129,\"enchant\":3832,\"gems\":[40133,40153,40113]},\r\n        {\"id\":47208,\"enchant\":2332,\"gems\":[40133,0]},\r\n        {\"id\":47762,\"enchant\":3604,\"gems\":[40113,0]},\r\n        {\"id\":47084,\"gems\":[40133,40113,40113]},\r\n        {\"id\":47760,\"enchant\":3719,\"gems\":[40155,40155]},\r\n        {\"id\":47097,\"enchant\":3606,\"gems\":[40133,40113]},\r\n        {\"id\":45495,\"gems\":[40133]},\r\n        {\"id\":47237,\"gems\":[40155]},\r\n        {\"id\":47188},\r\n        {\"id\":45518},\r\n        {\"id\":47517,\"enchant\":3834,\"gems\":[40155]},\r\n        {\"id\":47064},\r\n        {\"id\":45294,\"gems\":[40153]}\r\n    ]}`),\r\n};\r\n\r\n\r\n\r\n\r\nexport const FFB_P3_PRESET_HORDE = {\r\n\tname: 'FFB P3 Preset [H]',\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getFaction() == Faction.Horde && player.getTalentTree() == 1 && player.getTalents().icyVeins,\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tgear: EquipmentSpec.fromJsonString(`{\"items\": [\r\n        {\"id\":47764,\"enchant\":3820,\"gems\":[41285,40133]},\r\n        {\"id\":47468,\"gems\":[40155]},\r\n        {\"id\":47767,\"enchant\":3810,\"gems\":[40133]},\r\n        {\"id\":47551,\"enchant\":3722,\"gems\":[40113]},\r\n        {\"id\":47425,\"enchant\":3832,\"gems\":[40133,40113,40155]},\r\n        {\"id\":47467,\"enchant\":2332,\"gems\":[40155,0]},\r\n        {\"id\":47763,\"enchant\":3604,\"gems\":[40113,0]},\r\n        {\"id\":47447,\"gems\":[40133,40113,40113]},\r\n        {\"id\":47765,\"enchant\":3719,\"gems\":[40155,40155]},\r\n        {\"id\":47454,\"enchant\":3606,\"gems\":[40133,40113]},\r\n        {\"id\":45495,\"gems\":[40133]},\r\n        {\"id\":47489,\"gems\":[40155]},\r\n        {\"id\":47477},\r\n        {\"id\":45518},\r\n        {\"id\":47518,\"enchant\":3834,\"gems\":[40155]},\r\n        {\"id\":47437},\r\n        {\"id\":45294,\"gems\":[40113]}\r\n    ]}`),\r\n};\r\n\r\nexport const FFB_P3_PRESET_ALLIANCE = {\r\n\tname: 'FFB P3 Preset [A]',\r\n\tenableWhen: (player: Player<Spec.SpecMage>) => player.getFaction() == Faction.Alliance && player.getTalentTree() == 1 && player.getTalents().icyVeins,\r\n\ttooltip: Tooltips.BASIC_BIS_DISCLAIMER,\r\n\tgear: EquipmentSpec.fromJsonString(`{   \"items\": [\r\n        {\"id\":47761,\"enchant\":3820,\"gems\":[41285,40133]},\r\n        {\"id\":47144,\"gems\":[40155]},\r\n        {\"id\":47758,\"enchant\":3810,\"gems\":[40133]},\r\n        {\"id\":47552,\"enchant\":3722,\"gems\":[40113]},\r\n        {\"id\":46993,\"enchant\":3832,\"gems\":[40133,40113,40153]},\r\n        {\"id\":47208,\"enchant\":2332,\"gems\":[40133,0]},\r\n        {\"id\":47762,\"enchant\":3604,\"gems\":[40113,0]},\r\n        {\"id\":47084,\"gems\":[40133,40113,40113]},\r\n        {\"id\":47760,\"enchant\":3719,\"gems\":[40155,40155]},\r\n        {\"id\":47097,\"enchant\":3606,\"gems\":[40133,40113]},\r\n        {\"id\":45495,\"gems\":[40133]},\r\n        {\"id\":47237,\"gems\":[40155]},\r\n        {\"id\":47188},\r\n        {\"id\":45518},\r\n        {\"id\":47517,\"enchant\":3834,\"gems\":[40155]},\r\n        {\"id\":47064},\r\n        {\"id\":45294,\"gems\":[40155]}\r\n    ]}`),\r\n};","import { Spec } from '../core/proto/common.js';\r\nimport { ActionId } from '../core/proto_utils/action_id.js';\r\nimport { Player } from '../core/player.js';\r\nimport { EventID, TypedEvent } from '../core/typed_event.js';\r\n\r\nimport {\r\n\tMage,\r\n\tMageTalents as MageTalents,\r\n\tMage_Rotation as MageRotation,\r\n\tMage_Rotation_Type as RotationType,\r\n\tMage_Rotation_PrimaryFireSpell as PrimaryFireSpell,\r\n\tMage_Rotation_AoeRotation as AoeRotationSpells,\r\n\tMage_Options as MageOptions,\r\n\tMage_Options_ArmorType as ArmorType,\r\n} from '../core/proto/mage.js';\r\n\r\nimport * as InputHelpers from '../core/components/input_helpers.js';\r\nimport * as Presets from './presets.js';\r\n\r\n// Configuration for spec-specific UI elements on the settings tab.\r\n// These don't need to be in a separate file but it keeps things cleaner.\r\n\r\nexport const Armor = InputHelpers.makeSpecOptionsEnumIconInput<Spec.SpecMage, ArmorType>({\r\n\tfieldName: 'armor',\r\n\tvalues: [\r\n\t\t{ value: ArmorType.NoArmor, tooltip: 'No Armor' },\r\n\t\t{ actionId: ActionId.fromSpellId(43024), value: ArmorType.MageArmor },\r\n\t\t{ actionId: ActionId.fromSpellId(43046), value: ArmorType.MoltenArmor },\r\n\t],\r\n});\r\n\r\nexport const IgniteMunching = InputHelpers.makeSpecOptionsBooleanInput<Spec.SpecMage>({\r\n\tfieldName: 'igniteMunching',\r\n\tlabel: 'Ignite Munching',\r\n\tlabelTooltip: `\r\n\t\t<p>When two spells crit at the same time, only the latter spell will count towards ignite.</p>\r\n\t\t<p>For example when an instant pyroblast lands right after a fireball, or when Living Bomb explodes at the same time as another spell lands on the target.</p>\r\n\t\t<p>However, this does not affect Hot Streak with Frostfire Bolt due to Frostfire Bolt having a faster travel time. </p>\r\n\t`,\r\n\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Fire,\r\n\tchangeEmitter: (player: Player<Spec.SpecMage>) => player.rotationChangeEmitter,\r\n});\r\n\r\nexport const EvocationTicks = InputHelpers.makeSpecOptionsNumberInput<Spec.SpecMage>({\r\n\tfieldName: 'evocationTicks',\r\n\tlabel: '# Evocation Ticks',\r\n\tlabelTooltip: 'The number of ticks of Evocation to use, or 0 to use the full duration.',\r\n});\r\n\r\nexport const FocusMagicUptime = InputHelpers.makeSpecOptionsNumberInput<Spec.SpecMage>({\r\n\tfieldName: 'focusMagicPercentUptime',\r\n\tlabel: 'Focus Magic Percent Uptime',\r\n\tlabelTooltip: 'Percent of uptime for Focus Magic Buddy',\r\n\textraCssClasses: ['within-raid-sim-hide'],\r\n});\r\n\r\nexport const ReactionTime = InputHelpers.makeSpecOptionsNumberInput<Spec.SpecMage>({\r\n\tfieldName: 'reactionTimeMs',\r\n\tlabel: 'Reaction Time (ms)',\r\n\tlabelTooltip: 'Duration, in milliseconds, for player reaction time. Only used for a few effects (Missile Barrage / Hot Streak / Brain Freeze).',\r\n});\r\n\r\nexport const MageRotationConfig = {\r\n\tinputs: [\r\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecMage, RotationType>({\r\n\t\t\tfieldName: 'type',\r\n\t\t\tlabel: 'Spec',\r\n\t\t\tlabelTooltip: 'Switches between spec rotation settings. Will also update talents to defaults for the selected spec.',\r\n\t\t\tvalues: [\r\n\t\t\t\t{ name: 'Arcane', value: RotationType.Arcane },\r\n\t\t\t\t{ name: 'Fire', value: RotationType.Fire },\r\n\t\t\t\t{ name: 'Frost', value: RotationType.Frost },\r\n\t\t\t],\r\n\t\t\tsetValue: (eventID: EventID, player: Player<Spec.SpecMage>, newValue: number) => {\r\n\t\t\t\tconst newRotation = player.getRotation();\r\n\t\t\t\tnewRotation.type = newValue;\r\n\r\n\t\t\t\tTypedEvent.freezeAllAndDo(() => {\r\n\t\t\t\t\tif (newRotation.type == RotationType.Arcane) {\r\n\t\t\t\t\t\tplayer.setTalentsString(eventID, Presets.ArcaneTalents.data.talentsString);\r\n\t\t\t\t\t\tplayer.setGlyphs(eventID, Presets.ArcaneTalents.data.glyphs!);\r\n\t\t\t\t\t} else if (newRotation.type == RotationType.Fire) {\r\n\t\t\t\t\t\tplayer.setTalentsString(eventID, Presets.FireTalents.data.talentsString);\r\n\t\t\t\t\t\tplayer.setGlyphs(eventID, Presets.FireTalents.data.glyphs!);\r\n\t\t\t\t\t} else if (newRotation.type == RotationType.Frost) {\r\n\t\t\t\t\t\tplayer.setTalentsString(eventID, Presets.FrostTalents.data.talentsString);\r\n\t\t\t\t\t\tplayer.setGlyphs(eventID, Presets.FrostTalents.data.glyphs!);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tplayer.setRotation(eventID, newRotation);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t}),\r\n\t\t// ********************************************************\r\n\t\t//                        AOE INPUTS\r\n\t\t// ********************************************************\r\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecMage, AoeRotationSpells>({\r\n\t\t\tfieldName: 'aoe',\r\n\t\t\tlabel: 'Primary Spell',\r\n\t\t\tvalues: [\r\n\t\t\t\t{ name: 'Arcane Explosion', value: AoeRotationSpells.ArcaneExplosion },\r\n\t\t\t\t{ name: 'Flamestrike', value: AoeRotationSpells.Flamestrike },\r\n\t\t\t\t{ name: 'Blizzard', value: AoeRotationSpells.Blizzard },\r\n\t\t\t],\r\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Aoe,\r\n\t\t}),\r\n\t\t// ********************************************************\r\n\t\t//                       FIRE INPUTS\r\n\t\t// ********************************************************\r\n\t\tInputHelpers.makeRotationEnumInput<Spec.SpecMage, PrimaryFireSpell>({\r\n\t\t\tfieldName: 'primaryFireSpell',\r\n\t\t\tlabel: 'Primary Spell',\r\n\t\t\tvalues: [\r\n\t\t\t\t{ name: 'Fireball', value: PrimaryFireSpell.Fireball },\r\n\t\t\t\t{ name: 'Frostfire Bolt', value: PrimaryFireSpell.FrostfireBolt },\r\n\t\t\t\t{ name: 'Scorch', value: PrimaryFireSpell.Scorch },\r\n\t\t\t],\r\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Fire,\r\n\t\t}),\r\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\r\n\t\t\tfieldName: 'pyroblastDelayMs',\r\n\t\t\tlabel: 'Pyroblast Delay (ms)',\r\n\t\t\tlabelTooltip: `\r\n\t\t\t\t<p>Adds a delay to Pyroblast after a Hot Streak to prevent ignite munching. 50ms is a good default for this.</p>\r\n\t\t\t\t<p>There is no way to do this perfectly in-game, but a cqs macro can do this with about 70-90% reliability.</p>\r\n\t\t\t`,\r\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Fire && player.getRotation().primaryFireSpell == PrimaryFireSpell.Fireball && player.getSpecOptions().igniteMunching,\r\n\t\t\tchangeEmitter: (player: Player<Spec.SpecMage>) => TypedEvent.onAny([player.rotationChangeEmitter, player.specOptionsChangeEmitter]),\r\n\t\t}),\r\n\t\t// ********************************************************\r\n\t\t//                       FROST INPUTS\r\n\t\t// ********************************************************\r\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecMage>({\r\n\t\t\tfieldName: 'useIceLance',\r\n\t\t\tlabel: 'Use Ice Lance',\r\n\t\t\tlabelTooltip: 'Casts Ice Lance at the end of Fingers of Frost, after using Deep Freeze.',\r\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Frost,\r\n\t\t}),\r\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\r\n\t\t\tfieldName: 'waterElementalDisobeyChance',\r\n\t\t\tpercent: true,\r\n\t\t\tlabel: 'Water Ele Disobey %',\r\n\t\t\tlabelTooltip: 'Percent of Water Elemental actions which will fail. This represents the Water Elemental moving around or standing still instead of casting.',\r\n\t\t\tchangeEmitter: (player: Player<Spec.SpecMage>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\r\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Frost,\r\n\t\t\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalents().summonWaterElemental,\r\n\t\t}),\r\n\t\t// ********************************************************\r\n\t\t//                      ARCANE INPUTS\r\n\t\t// ********************************************************\r\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\r\n\t\t\tfieldName: 'only3ArcaneBlastStacksBelowManaPercent',\r\n\t\t\tpercent: true,\r\n\t\t\tlabel: 'Stack Arcane Blast to 3 below mana %',\r\n\t\t\tlabelTooltip: 'When below this mana %, AM/ABarr will be used at 3 stacks of AB instead of 4.',\r\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Arcane,\r\n\t\t}),\r\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\r\n\t\t\tfieldName: 'blastWithoutMissileBarrageAboveManaPercent',\r\n\t\t\tpercent: true,\r\n\t\t\tlabel: 'AB without Missile Barrage above mana %',\r\n\t\t\tlabelTooltip: 'When above this mana %, spam AB until a Missile Barrage proc occurs.',\r\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Arcane,\r\n\t\t}),\r\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\r\n\t\t\tfieldName: 'extraBlastsDuringFirstAp',\r\n\t\t\tlabel: 'Extra ABs during first AP',\r\n\t\t\tlabelTooltip: 'Extend AB streak by this mana casts, during the first Arcane Power CD duration.',\r\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Arcane,\r\n\t\t}),\r\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\r\n\t\t\tfieldName: 'missileBarrageBelowArcaneBlastStacks',\r\n\t\t\tlabel: 'Use Missile Barrage below n AB stacks',\r\n\t\t\tlabelTooltip: 'Setting this to 1 or 2 can potentially be a DPS increase with Arcane Barrage rotation or T8 4pc set bonus.',\r\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Arcane,\r\n\t\t}),\r\n\t\tInputHelpers.makeRotationNumberInput<Spec.SpecMage>({\r\n\t\t\tfieldName: 'missileBarrageBelowManaPercent',\r\n\t\t\tpercent: true,\r\n\t\t\tlabel: 'Use Missile Barrage ASAP below mana %',\r\n\t\t\tlabelTooltip: 'When below this mana %, use Missile Barrage proc as soon as possible. Can be useful to conserve mana.',\r\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Arcane,\r\n\t\t}),\r\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecMage>({\r\n\t\t\tfieldName: 'useArcaneBarrage',\r\n\t\t\tlabel: 'Use Arcane Barrage',\r\n\t\t\tlabelTooltip: 'Includes Arcane Barrage in the rotation.',\r\n\t\t\tenableWhen: (player: Player<Spec.SpecMage>) => player.getTalents().arcaneBarrage,\r\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getRotation().type == RotationType.Arcane,\r\n\t\t\tchangeEmitter: (player: Player<Spec.SpecMage>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\r\n\t\t}),\r\n\r\n\t\tInputHelpers.makeRotationBooleanInput<Spec.SpecMage>({\r\n\t\t\tfieldName: 'maintainImprovedScorch',\r\n\t\t\tlabel: 'Maintain Imp. Scorch',\r\n\t\t\tlabelTooltip: 'Always use Scorch when below 5 stacks, or < 4s remaining on debuff.',\r\n\t\t\tshowWhen: (player: Player<Spec.SpecMage>) => player.getTalents().improvedScorch > 0,\r\n\t\t\tchangeEmitter: (player: Player<Spec.SpecMage>) => TypedEvent.onAny([player.rotationChangeEmitter, player.talentsChangeEmitter]),\r\n\t\t}),\r\n\t],\r\n};\r\n","import { RaidBuffs } from '../core/proto/common.js';\r\nimport { PartyBuffs } from '../core/proto/common.js';\r\nimport { IndividualBuffs } from '../core/proto/common.js';\r\nimport { Debuffs } from '../core/proto/common.js';\r\nimport { Spec } from '../core/proto/common.js';\r\nimport { Stat } from '../core/proto/common.js';\r\nimport { TristateEffect } from '../core/proto/common.js'\r\nimport { Stats } from '../core/proto_utils/stats.js';\r\nimport { Player } from '../core/player.js';\r\nimport { IndividualSimUI } from '../core/individual_sim_ui.js';\r\n\r\nimport {\r\n\tMage,\r\n\tMage_Rotation as MageRotation,\r\n\tMage_Rotation_Type as RotationType,\r\n\tMageTalents as MageTalents,\r\n\tMage_Options as MageOptions,\r\n} from '../core/proto/mage.js';\r\n\r\nimport * as IconInputs from '../core/components/icon_inputs.js';\r\nimport * as OtherInputs from '../core/components/other_inputs.js';\r\nimport * as Mechanics from '../core/constants/mechanics.js';\r\nimport * as Tooltips from '../core/constants/tooltips.js';\r\n\r\nimport * as MageInputs from './inputs.js';\r\nimport * as Presets from './presets.js';\r\n\r\nexport class MageSimUI extends IndividualSimUI<Spec.SpecMage> {\r\n\tconstructor(parentElem: HTMLElement, player: Player<Spec.SpecMage>) {\r\n\t\tsuper(parentElem, player, {\r\n\t\t\tcssClass: 'mage-sim-ui',\r\n\t\t\tcssScheme: 'mage',\r\n\t\t\t// List any known bugs / issues here and they'll be shown on the site.\r\n\t\t\tknownIssues: [\r\n\t\t\t],\r\n\r\n\t\t\t// All stats for which EP should be calculated.\r\n\t\t\tepStats: [\r\n\t\t\t\tStat.StatIntellect,\r\n\t\t\t\tStat.StatSpirit,\r\n\t\t\t\tStat.StatSpellPower,\r\n\t\t\t\tStat.StatSpellHit,\r\n\t\t\t\tStat.StatSpellCrit,\r\n\t\t\t\tStat.StatSpellHaste,\r\n\t\t\t\tStat.StatMP5,\r\n\t\t\t],\r\n\t\t\t// Reference stat against which to calculate EP. I think all classes use either spell power or attack power.\r\n\t\t\tepReferenceStat: Stat.StatSpellPower,\r\n\t\t\t// Which stats to display in the Character Stats section, at the bottom of the left-hand sidebar.\r\n\t\t\tdisplayStats: [\r\n\t\t\t\tStat.StatHealth,\r\n\t\t\t\tStat.StatMana,\r\n\t\t\t\tStat.StatStamina,\r\n\t\t\t\tStat.StatIntellect,\r\n\t\t\t\tStat.StatSpirit,\r\n\t\t\t\tStat.StatSpellPower,\r\n\t\t\t\tStat.StatSpellHit,\r\n\t\t\t\tStat.StatSpellCrit,\r\n\t\t\t\tStat.StatSpellHaste,\r\n\t\t\t\tStat.StatMP5,\r\n\t\t\t],\r\n\t\t\tmodifyDisplayStats: (player: Player<Spec.SpecMage>) => {\r\n\t\t\t\tlet stats = new Stats();\r\n\t\t\t\tif (player.getRotation().type == RotationType.Arcane) {\r\n\t\t\t\t\tstats = stats.addStat(Stat.StatSpellHit, player.getTalents().arcaneFocus * 1 * Mechanics.SPELL_HIT_RATING_PER_HIT_CHANCE);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttalents: stats,\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\tdefaults: {\r\n\t\t\t\t// Default equipped gear.\r\n\t\t\t\tgear: Presets.ARCANE_P1_PRESET.gear,\r\n\t\t\t\t// Default EP weights for sorting gear in the gear picker.\r\n\t\t\t\tepWeights: Stats.fromMap({\r\n\t\t\t\t\t[Stat.StatIntellect]: 0.48,\r\n\t\t\t\t\t[Stat.StatSpirit]: 0.42,\r\n\t\t\t\t\t[Stat.StatSpellPower]: 1,\r\n\t\t\t\t\t[Stat.StatSpellHit]: 0.38,\r\n\t\t\t\t\t[Stat.StatSpellCrit]: 0.58,\r\n\t\t\t\t\t[Stat.StatSpellHaste]: 0.94,\r\n\t\t\t\t\t[Stat.StatMP5]: 0.09,\r\n\t\t\t\t}),\r\n\t\t\t\t// Default consumes settings.\r\n\t\t\t\tconsumes: Presets.DefaultArcaneConsumes,\r\n\t\t\t\t// Default rotation settings.\r\n\t\t\t\trotation: Presets.DefaultArcaneRotation,\r\n\t\t\t\t// Default talents.\r\n\t\t\t\ttalents: Presets.ArcaneTalents.data,\r\n\t\t\t\t// Default spec-specific settings.\r\n\t\t\t\tspecOptions: Presets.DefaultArcaneOptions,\r\n\t\t\t\tother: Presets.OtherDefaults,\r\n\t\t\t\t// Default raid/party buffs settings.\r\n\t\t\t\traidBuffs: RaidBuffs.create({\r\n\t\t\t\t\tgiftOfTheWild: TristateEffect.TristateEffectImproved,\r\n\t\t\t\t\tbloodlust: true,\r\n\t\t\t\t\tmanaSpringTotem: TristateEffect.TristateEffectImproved,\r\n\t\t\t\t\twrathOfAirTotem: true,\r\n\t\t\t\t\tdivineSpirit: true,\r\n\t\t\t\t\tswiftRetribution: true,\r\n\t\t\t\t\tsanctifiedRetribution: true,\r\n\t\t\t\t\tmoonkinAura: TristateEffect.TristateEffectImproved,\r\n\t\t\t\t\tarcaneBrilliance: true,\r\n\t\t\t\t}),\r\n\t\t\t\tpartyBuffs: PartyBuffs.create({\r\n\t\t\t\t\tmanaTideTotems: 1,\r\n\t\t\t\t}),\r\n\t\t\t\tindividualBuffs: IndividualBuffs.create({\r\n\t\t\t\t\tblessingOfKings: true,\r\n\t\t\t\t\tblessingOfWisdom: TristateEffect.TristateEffectImproved,\r\n\t\t\t\t\tinnervates: 0,\r\n\t\t\t\t\tvampiricTouch: true,\r\n\t\t\t\t}),\r\n\t\t\t\tdebuffs: Debuffs.create({\r\n\t\t\t\t\tjudgementOfWisdom: true,\r\n\t\t\t\t\tmisery: true,\r\n\t\t\t\t\tcurseOfElements: true,\r\n\t\t\t\t\tshadowMastery: true,\r\n\t\t\t\t\theartOfTheCrusader: true,\r\n\t\t\t\t}),\r\n\t\t\t},\r\n\r\n\t\t\t// IconInputs to include in the 'Player' section on the settings tab.\r\n\t\t\tplayerIconInputs: [\r\n\t\t\t\tMageInputs.Armor,\r\n\t\t\t],\r\n\t\t\t// Inputs to include in the 'Rotation' section on the settings tab.\r\n\t\t\trotationInputs: MageInputs.MageRotationConfig,\r\n\t\t\t// Buff and Debuff inputs to include/exclude, overriding the EP-based defaults.\r\n\t\t\tincludeBuffDebuffInputs: [\r\n\t\t\t\t//Should add hymn of hope, revitalize, and \r\n\t\t\t],\r\n\t\t\texcludeBuffDebuffInputs: [\r\n\t\t\t],\r\n\t\t\t// Inputs to include in the 'Other' section on the settings tab.\r\n\t\t\totherInputs: {\r\n\t\t\t\tinputs: [\r\n\t\t\t\t\tMageInputs.IgniteMunching,\r\n\t\t\t\t\tMageInputs.EvocationTicks,\r\n\t\t\t\t\tMageInputs.FocusMagicUptime,\r\n\t\t\t\t\tMageInputs.ReactionTime,\r\n\t\t\t\t\tOtherInputs.DistanceFromTarget,\r\n\t\t\t\t\tOtherInputs.TankAssignment,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\tencounterPicker: {\r\n\t\t\t\t// Whether to include 'Execute Duration (%)' in the 'Encounter' section of the settings tab.\r\n\t\t\t\tshowExecuteProportion: true,\r\n\t\t\t},\r\n\r\n\t\t\tpresets: {\r\n\t\t\t\t// Preset rotations that the user can quickly select.\r\n\t\t\t\trotations: [\r\n\t\t\t\t\tPresets.ARCANE_ROTATION_PRESET_DEFAULT,\r\n\t\t\t\t\tPresets.FIRE_ROTATION_PRESET_DEFAULT,\r\n\t\t\t\t\tPresets.FROSTFIRE_ROTATION_PRESET_DEFAULT,\r\n\t\t\t\t\tPresets.FROST_ROTATION_PRESET_DEFAULT,\r\n\t\t\t\t],\r\n\t\t\t\t// Preset talents that the user can quickly select.\r\n\t\t\t\ttalents: [\r\n\t\t\t\t\tPresets.ArcaneTalents,\r\n\t\t\t\t\tPresets.FireTalents,\r\n\t\t\t\t\tPresets.FrostfireTalents,\r\n\t\t\t\t\tPresets.FrostTalents,\r\n\t\t\t\t\tPresets.Phase3FireTalents,\r\n\t\t\t\t],\r\n\t\t\t\t// Preset gear configurations that the user can quickly select.\r\n\t\t\t\tgear: [\r\n\t\t\t\t\tPresets.ARCANE_PRERAID_PRESET,\r\n\t\t\t\t\tPresets.FIRE_PRERAID_PRESET,\r\n\t\t\t\t\tPresets.ARCANE_P1_PRESET,\r\n\t\t\t\t\tPresets.FIRE_P1_PRESET,\r\n\t\t\t\t\tPresets.FROST_P1_PRESET,\r\n\t\t\t\t\tPresets.ARCANE_P2_PRESET,\r\n\t\t\t\t\tPresets.FIRE_P2_PRESET,\r\n\t\t\t\t\tPresets.FROST_P2_PRESET,\r\n\t\t\t\t\tPresets.FFB_P2_PRESET,\r\n\t\t\t\t\tPresets.ARCANE_P3_PRESET_ALLIANCE,\r\n\t\t\t\t\tPresets.ARCANE_P3_PRESET_HORDE,\r\n\t\t\t\t\tPresets.FROST_P3_PRESET_ALLIANCE,\r\n\t\t\t\t\tPresets.FROST_P3_PRESET_HORDE,\r\n\t\t\t\t\tPresets.FIRE_P3_PRESET_ALLIANCE,\r\n\t\t\t\t\tPresets.FIRE_P3_PRESET_HORDE,\r\n\t\t\t\t\tPresets.FFB_P3_PRESET_ALLIANCE,\r\n\t\t\t\t\tPresets.FFB_P3_PRESET_HORDE,\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n}\r\n"],"names":["ArcaneTalents","name","data","SavedTalents","create","talentsString","glyphs","Glyphs","major1","MageMajorGlyph","GlyphOfArcaneBlast","major2","GlyphOfArcaneMissiles","major3","GlyphOfMoltenArmor","minor1","MageMinorGlyph","GlyphOfSlowFall","minor2","GlyphOfFrostWard","minor3","GlyphOfBlastWave","FireTalents","GlyphOfFireball","GlyphOfLivingBomb","Phase3FireTalents","GlyphOfArcaneIntellect","FrostfireTalents","GlyphOfFrostfire","FrostTalents","GlyphOfFrostbolt","GlyphOfEternalWater","DefaultFireRotation","MageRotation","type","RotationType","Fire","primaryFireSpell","PrimaryFireSpell","Fireball","maintainImprovedScorch","pyroblastDelayMs","DefaultFFBRotation","FrostfireBolt","DefaultFFBOptions","MageOptions","armor","ArmorType","MoltenArmor","reactionTimeMs","igniteMunching","DefaultFireOptions","focusMagicPercentUptime","focusMagicTarget","UnitReference","DefaultFireConsumes","Consumes","flask","Flask","FlaskOfTheFrostWyrm","food","Food","FoodFirecrackerSalmon","defaultPotion","Potions","PotionOfSpeed","defaultConjured","Conjured","ConjuredFlameCap","DefaultFrostRotation","Frost","waterElementalDisobeyChance","FoodFishFeast","DefaultArcaneRotation","Arcane","only3ArcaneBlastStacksBelowManaPercent","blastWithoutMissileBarrageAboveManaPercent","extraBlastsDuringFirstAp","missileBarrageBelowArcaneBlastStacks","missileBarrageBelowManaPercent","DefaultArcaneOptions","DefaultArcaneConsumes","ConjuredDarkRune","OtherDefaults","distanceFromTarget","ARCANE_ROTATION_PRESET_DEFAULT","rotation","SavedRotation","specRotationOptionsJson","toJsonString","APLRotation","fromJsonString","FIRE_ROTATION_PRESET_DEFAULT","FROSTFIRE_ROTATION_PRESET_DEFAULT","FROST_ROTATION_PRESET_DEFAULT","ARCANE_PRERAID_PRESET","tooltip","Tooltips.BASIC_BIS_DISCLAIMER","enableWhen","player","getTalentTree","gear","EquipmentSpec","FIRE_PRERAID_PRESET","ARCANE_P1_PRESET","FIRE_P1_PRESET","FROST_P1_PRESET","ARCANE_P2_PRESET","FIRE_P2_PRESET","FROST_P2_PRESET","FFB_P2_PRESET","getTalents","icyVeins","ARCANE_P3_PRESET_HORDE","getFaction","Faction","Horde","ARCANE_P3_PRESET_ALLIANCE","Alliance","FROST_P3_PRESET_HORDE","FROST_P3_PRESET_ALLIANCE","FIRE_P3_PRESET_HORDE","FIRE_P3_PRESET_ALLIANCE","FFB_P3_PRESET_HORDE","FFB_P3_PRESET_ALLIANCE","Armor","InputHelpers.makeSpecOptionsEnumIconInput","fieldName","values","value","NoArmor","actionId","ActionId","fromSpellId","MageArmor","IgniteMunching","InputHelpers.makeSpecOptionsBooleanInput","label","labelTooltip","showWhen","getRotation","changeEmitter","rotationChangeEmitter","EvocationTicks","InputHelpers.makeSpecOptionsNumberInput","FocusMagicUptime","extraCssClasses","ReactionTime","MageRotationConfig","inputs","InputHelpers.makeRotationEnumInput","setValue","eventID","newValue","newRotation","TypedEvent","freezeAllAndDo","setTalentsString","Presets.ArcaneTalents","setGlyphs","Presets.FireTalents","Presets.FrostTalents","setRotation","AoeRotationSpells","ArcaneExplosion","Flamestrike","Blizzard","Aoe","Scorch","InputHelpers.makeRotationNumberInput","getSpecOptions","onAny","specOptionsChangeEmitter","InputHelpers.makeRotationBooleanInput","percent","talentsChangeEmitter","summonWaterElemental","arcaneBarrage","improvedScorch","MageSimUI","IndividualSimUI","constructor","parentElem","super","cssClass","cssScheme","knownIssues","epStats","Stat","StatIntellect","StatSpirit","StatSpellPower","StatSpellHit","StatSpellCrit","StatSpellHaste","StatMP5","epReferenceStat","displayStats","StatHealth","StatMana","StatStamina","modifyDisplayStats","stats","Stats","addStat","arcaneFocus","Mechanics.SPELL_HIT_RATING_PER_HIT_CHANCE","talents","defaults","Presets.ARCANE_P1_PRESET","epWeights","fromMap","consumes","Presets.DefaultArcaneConsumes","Presets.DefaultArcaneRotation","specOptions","Presets.DefaultArcaneOptions","other","Presets.OtherDefaults","raidBuffs","RaidBuffs","giftOfTheWild","TristateEffect","TristateEffectImproved","bloodlust","manaSpringTotem","wrathOfAirTotem","divineSpirit","swiftRetribution","sanctifiedRetribution","moonkinAura","arcaneBrilliance","partyBuffs","PartyBuffs","manaTideTotems","individualBuffs","IndividualBuffs","blessingOfKings","blessingOfWisdom","innervates","vampiricTouch","debuffs","Debuffs","judgementOfWisdom","misery","curseOfElements","shadowMastery","heartOfTheCrusader","playerIconInputs","MageInputs.Armor","rotationInputs","MageInputs.MageRotationConfig","includeBuffDebuffInputs","excludeBuffDebuffInputs","otherInputs","MageInputs.IgniteMunching","MageInputs.EvocationTicks","MageInputs.FocusMagicUptime","MageInputs.ReactionTime","OtherInputs.DistanceFromTarget","OtherInputs.TankAssignment","encounterPicker","showExecuteProportion","presets","rotations","Presets.ARCANE_ROTATION_PRESET_DEFAULT","Presets.FIRE_ROTATION_PRESET_DEFAULT","Presets.FROSTFIRE_ROTATION_PRESET_DEFAULT","Presets.FROST_ROTATION_PRESET_DEFAULT","Presets.FrostfireTalents","Presets.Phase3FireTalents","Presets.ARCANE_PRERAID_PRESET","Presets.FIRE_PRERAID_PRESET","Presets.FIRE_P1_PRESET","Presets.FROST_P1_PRESET","Presets.ARCANE_P2_PRESET","Presets.FIRE_P2_PRESET","Presets.FROST_P2_PRESET","Presets.FFB_P2_PRESET","Presets.ARCANE_P3_PRESET_ALLIANCE","Presets.ARCANE_P3_PRESET_HORDE","Presets.FROST_P3_PRESET_ALLIANCE","Presets.FROST_P3_PRESET_HORDE","Presets.FIRE_P3_PRESET_ALLIANCE","Presets.FIRE_P3_PRESET_HORDE","Presets.FFB_P3_PRESET_ALLIANCE","Presets.FFB_P3_PRESET_HORDE"],"mappings":"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"}